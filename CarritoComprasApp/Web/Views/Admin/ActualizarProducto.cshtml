@model Domain.Models.Producto

<h2>Actualizar Producto</h2>

<form id="formActualizar" asp-action="ActualizarProducto" method="post">
    <input type="hidden" asp-for="Id" />
    <div class="form-group">
        <label>Nombre</label>
        <input asp-for="Nombre" class="form-control" readonly />
    </div>
    <div class="form-group">
        <label>Descripción</label>
        <input asp-for="Descripcion" class="form-control" readonly />
    </div>
    <div class="form-group">
        <label>Nueva cantidad disponible</label>
        <input asp-for="CantidadDisponible" class="form-control" required min="1" />
        <span id="errorCantidad" class="text-danger" style="display:none;">Por favor, ingrese una cantidad válida mayor a 0.</span>
    </div>
    <button type="submit" class="btn btn-primary">Actualizar</button>
    <a asp-action="Productos" class="btn btn-secondary">Cancelar</a>
</form>

@section Scripts {
    <script>
        document.getElementById("formActualizar").addEventListener("submit", function (e) {
            var cantidad = document.getElementById("CantidadDisponible").value;
            var errorCantidad = document.getElementById("errorCantidad");

            if (isNaN(cantidad) || cantidad <= 0) {
                e.preventDefault();
                errorCantidad.style.display = "block";
            } else {
                errorCantidad.style.display = "none";
            }
        });
    </script>
}
